<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.github.lishangbu.orange.authorization.mapper.RoleMapper">
  <!-- 角色信息映射 -->
  <resultMap id="RoleResultMap" type="io.github.lishangbu.orange.authorization.entity.Role">
    <id property="id" column="id"/>
    <result property="code" column="code"/>
    <result property="name" column="name"/>
    <result property="enabled" column="enabled"/>
  </resultMap>
  <select id="selectPageByRole" resultMap="RoleResultMap">
    SELECT * FROM role
    <where>
      <if test="role.code != null and role.code.trim() != ''">
        AND code LIKE CONCAT('%', #{role.code}, '%')
      </if>
      <if test="role.name != null and role.name.trim() != ''">
        AND name LIKE CONCAT('%', #{role.name}, '%')
      </if>
      <if test="role.enabled != null">
        AND enabled = #{role.enabled}
      </if>
    </where>
    ORDER BY id DESC
  </select>
</mapper>
